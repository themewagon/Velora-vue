import{p as z,t as H,u as Y,G as re,E as ue,r as q,c as V,aM as Se,aR as Pe,A as G,aS as le,au as J,aT as Q,z as $,x as ke,aU as ce,a3 as ee,aF as pe,g as _e,aV as Ye,a as me,w as qe,v as Je,aJ as Me,U as Te,aW as xe,av as de,b as ge,d as w,aX as Qe,D as Ze,e as et,ax as tt,aY as at,aZ as lt,X as nt,f as Ve,a_ as rt,ay as ae,a$ as Fe,O as ve,i as te,j,F as ne,b0 as ut,b1 as Ee,b2 as we,b3 as st,b4 as ot,ar as it,b5 as ct,P as fe,b6 as dt,b7 as ft,b8 as vt,a6 as Ce,k as mt,m as gt,o as ht,b9 as yt,ba as bt,bb as Be,bc as Le,bd as St,aj as Re,ab as pt,ac as wt,an as De,aq as Pt,be as kt,ai as xt,bf as Vt,aa as It}from"./index-Cx_R2ofZ.js";import{V as At}from"./VCheckboxBtn-DA4gIv4r.js";const Yt=z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Oe=Symbol.for("vuetify:datatable:expanded");function qt(e){const l=H(e,"expandOnClick"),t=Y(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function a(r,u){const f=new Set(t.value);u?f.add(r.value):f.delete(r.value),t.value=f}function n(r){return t.value.has(r.value)}function d(r){a(r,!n(r))}const s={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:d};return ue(Oe,s),s}function Jt(){const e=re(Oe);if(!e)throw new Error("foo");return e}const Qt=z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ne=Symbol.for("vuetify:data-table-group");function Zt(e){return{groupBy:Y(e,"groupBy")}}function ea(e){const{disableSort:l,groupBy:t,sortBy:a}=e,n=q(new Set),d=V(()=>t.value.map(o=>({...o,order:o.order??!1})).concat(l!=null&&l.value?[]:a.value));function s(o){return n.value.has(o.id)}function r(o){const S=new Set(n.value);s(o)?S.delete(o.id):S.add(o.id),n.value=S}function u(o){function S(g){const m=[];for(const h of g.items)"type"in h&&h.type==="group"?m.push(...S(h)):m.push(h);return[...new Set(m)]}return S({items:o})}const f={sortByWithGroups:d,toggleGroup:r,opened:n,groupBy:t,extractRows:u,isGroupOpen:s};return ue(Ne,f),f}function ta(){const e=re(Ne);if(!e)throw new Error("Missing group!");return e}function Tt(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=Se(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Ke(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=Tt(e,l[0]),d=[],s=l.slice(1);return n.forEach((r,u)=>{const f=l[0],o=`${a}_${f}_${u}`;d.push({depth:t,id:o,key:f,value:u,items:s.length?Ke(r,s,t+1,o):r,type:"group"})}),d}function $e(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...$e(a.items,l))):t.push(a);return t}function aa(e,l,t){return{flatItems:V(()=>{if(!l.value.length)return e.value;const n=Ke(e.value,l.value.map(d=>d.key));return $e(n,t.value)})}}function la(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:d}=e;const s=Pe("VDataTable"),r=V(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:d.value}));let u=null;G(r,()=>{le(u,r.value)||(u&&u.search!==r.value.search&&(l.value=1),s.emit("update:options",r.value),u=r.value)},{deep:!0,immediate:!0})}const na=z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),je=Symbol.for("vuetify:data-table-pagination");function ra(e){const l=Y(e,"page",void 0,a=>Number(a??1)),t=Y(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:l,itemsPerPage:t}}function ua(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=V(()=>t.value===-1?0:t.value*(l.value-1)),d=V(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),s=V(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));G([l,s],()=>{l.value>s.value&&(l.value=s.value)});function r(g){t.value=g,l.value=1}function u(){l.value=J(l.value+1,1,s.value)}function f(){l.value=J(l.value-1,1,s.value)}function o(g){l.value=J(g,1,s.value)}const S={page:l,itemsPerPage:t,startIndex:n,stopIndex:d,pageCount:s,itemsLength:a,nextPage:u,prevPage:f,setPage:o,setItemsPerPage:r};return ue(je,S),S}function sa(){const e=re(je);if(!e)throw new Error("Missing pagination!");return e}function oa(e){const l=Pe("usePaginatedItems"),{items:t,startIndex:a,stopIndex:n,itemsPerPage:d}=e,s=V(()=>d.value<=0?t.value:t.value.slice(a.value,n.value));return G(s,r=>{l.emit("update:currentItems",r)},{immediate:!0}),{paginatedItems:s}}const Ft={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},ze={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return ze.select({items:t,value:l,selected:a})}},He={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return He.select({items:t,value:l,selected:a})}},ia=z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:le}},"DataTable-select"),Ue=Symbol.for("vuetify:data-table-selection");function ca(e,l){let{allItems:t,currentPage:a}=l;const n=Y(e,"modelValue",e.modelValue,v=>new Set(Q(v).map(I=>{var k;return((k=t.value.find(L=>e.valueComparator(I,L.value)))==null?void 0:k.value)??I})),v=>[...v.values()]),d=V(()=>t.value.filter(v=>v.selectable)),s=V(()=>a.value.filter(v=>v.selectable)),r=V(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Ft;case"all":return He;case"page":default:return ze}}),u=$(null);function f(v){return Q(v).every(I=>n.value.has(I.value))}function o(v){return Q(v).some(I=>n.value.has(I.value))}function S(v,I){const k=r.value.select({items:v,value:I,selected:new Set(n.value)});n.value=k}function g(v,I,k){const L=[];if(I=I??a.value.findIndex(U=>U.value===v.value),e.selectStrategy!=="single"&&(k!=null&&k.shiftKey)&&u.value!==null){const[U,D]=[u.value,I].sort((y,x)=>y-x);L.push(...a.value.slice(U,D+1))}else L.push(v),u.value=I;S(L,!f([v]))}function m(v){const I=r.value.selectAll({value:v,allItems:d.value,currentPage:s.value,selected:new Set(n.value)});n.value=I}const h=V(()=>n.value.size>0),p=V(()=>{const v=r.value.allSelected({allItems:d.value,currentPage:s.value});return!!v.length&&f(v)}),A=V(()=>r.value.showSelectAll),b={toggleSelect:g,select:S,selectAll:m,isSelected:f,isSomeSelected:o,someSelected:h,allSelected:p,showSelectAll:A,lastSelectedIndex:u,selectStrategy:r};return ue(Ue,b),b}function da(){const e=re(Ue);if(!e)throw new Error("Missing selection!");return e}const fa=z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ge=Symbol.for("vuetify:data-table-sort");function va(e){const l=Y(e,"sortBy"),t=H(e,"mustSort"),a=H(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function ma(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,d=u=>{if(u.key==null)return;let f=l.value.map(S=>({...S}))??[];const o=f.find(S=>S.key===u.key);o?o.order==="desc"?t.value&&f.length===1?o.order="asc":f=f.filter(S=>S.key!==u.key):o.order="desc":a.value?f.push({key:u.key,order:"asc"}):f=[{key:u.key,order:"asc"}],l.value=f,n&&(n.value=1)};function s(u){return!!l.value.find(f=>f.key===u.key)}const r={sortBy:l,toggleSort:d,isSorted:s};return ue(Ge,r),r}function ga(){const e=re(Ge);if(!e)throw new Error("Missing sort!");return e}function ha(e,l,t,a){const n=ke();return{sortedItems:V(()=>{var s,r;return t.value.length?Ct(l.value,t.value,n.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...e.customKeySort,...(s=a==null?void 0:a.sortFunctions)==null?void 0:s.value},sortRawFunctions:(r=a==null?void 0:a.sortRawFunctions)==null?void 0:r.value}):l.value})}}function Ct(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,a!=null&&a.transform?a.transform(s):s]).sort((s,r)=>{var u,f;for(let o=0;o<l.length;o++){let S=!1;const g=l[o].key,m=l[o].order??"asc";if(m===!1)continue;let h=Se(s[1],g),p=Se(r[1],g),A=s[0].raw,b=r[0].raw;if(m==="desc"&&([h,p]=[p,h],[A,b]=[b,A]),(u=a==null?void 0:a.sortRawFunctions)!=null&&u[g]){const v=a.sortRawFunctions[g](A,b);if(v==null)continue;if(S=!0,v)return v}if((f=a==null?void 0:a.sortFunctions)!=null&&f[g]){const v=a.sortFunctions[g](h,p);if(v==null)continue;if(S=!0,v)return v}if(!S){if(h instanceof Date&&p instanceof Date)return h.getTime()-p.getTime();if([h,p]=[h,p].map(v=>v!=null?v.toString().toLocaleLowerCase():v),h!==p)return ce(h)&&ce(p)?0:ce(h)?-1:ce(p)?1:!isNaN(h)&&!isNaN(p)?Number(h)-Number(p):n.compare(h,p)}}return 0}).map(s=>{let[r]=s;return r})}const Bt=(e,l,t)=>{if(e==null||l==null)return-1;if(!l.length)return 0;e=e.toString().toLocaleLowerCase(),l=l.toString().toLocaleLowerCase();const a=[];let n=e.indexOf(l);for(;~n;)a.push([n,n+l.length]),n=e.indexOf(l,n+l.length);return a.length?a:-1};function ye(e,l){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+l.length]]:Array.isArray(e[0])?e:[e]}const ya=z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Lt(e,l,t){var r;const a=[],n=(t==null?void 0:t.default)??Bt,d=t!=null&&t.filterKeys?Q(t.filterKeys):!1,s=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let u=0;u<e.length;u++){const[f,o=f]=Q(e[u]),S={},g={};let m=-1;if((l||s>0)&&!(t!=null&&t.noFilter)){if(typeof f=="object"){const A=d||Object.keys(o);for(const b of A){const v=_e(o,b),I=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[b];if(m=I?I(v,l,f):n(v,l,f),m!==-1&&m!==!1)I?S[b]=ye(m,l):g[b]=ye(m,l);else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=n(f,l,f),m!==-1&&m!==!1&&(g.title=ye(m,l));const h=Object.keys(g).length,p=Object.keys(S).length;if(!h&&!p||(t==null?void 0:t.filterMode)==="union"&&p!==s&&!h||(t==null?void 0:t.filterMode)==="intersection"&&(p!==s||!h))continue}a.push({index:u,matches:{...g,...S}})}return a}function ba(e,l,t,a){const n=$([]),d=$(new Map),s=V(()=>a!=null&&a.transform?ee(l).map(u=>[u,a.transform(u)]):ee(l));pe(()=>{const u=typeof t=="function"?t():ee(t),f=typeof u!="string"&&typeof u!="number"?"":String(u),o=Lt(s.value,f,{customKeyFilter:{...e.customKeyFilter,...ee(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),S=ee(l),g=[],m=new Map;o.forEach(h=>{let{index:p,matches:A}=h;const b=S[p];g.push(b),m.set(b.value,A)}),n.value=g,d.value=m});function r(u){return d.value.get(u.value)}return{filteredItems:n,filteredMatches:d,getMatches:r}}function Rt(){const e=q([]);Ye(()=>e.value=[]);function l(t,a){e.value[a]=t}return{refs:e,updateRef:l}}const Dt=z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:ae,default:"$first"},prevIcon:{type:ae,default:"$prev"},nextIcon:{type:ae,default:"$next"},lastIcon:{type:ae,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...rt(),...Ve(),...nt(),...lt(),...at(),...tt(),...et({tag:"nav"}),...Ze(),...Qe({variant:"text"})},"VPagination"),Sa=me()({name:"VPagination",props:Dt(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:t,emit:a}=l;const n=Y(e,"modelValue"),{t:d,n:s}=ke(),{isRtl:r}=qe(),{themeClasses:u}=Je(e),{width:f}=Me(),o=$(-1);Te(void 0,{scoped:!0});const{resizeRef:S}=xe(y=>{if(!y.length)return;const{target:x,contentRect:T}=y[0],_=x.querySelector(".v-pagination__list > *");if(!_)return;const M=T.width,K=_.offsetWidth+parseFloat(getComputedStyle(_).marginRight)*2;o.value=p(M,K)}),g=V(()=>parseInt(e.length,10)),m=V(()=>parseInt(e.start,10)),h=V(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):o.value>=0?o.value:p(f.value,58));function p(y,x){const T=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((y-x*T)/x).toFixed(2))))}const A=V(()=>{if(g.value<=0||isNaN(g.value)||g.value>Number.MAX_SAFE_INTEGER)return[];if(h.value<=0)return[];if(h.value===1)return[n.value];if(g.value<=h.value)return de(g.value,m.value);const y=h.value%2===0,x=y?h.value/2:Math.floor(h.value/2),T=y?x:x+1,_=g.value-x;if(T-n.value>=0)return[...de(Math.max(1,h.value-1),m.value),e.ellipsis,g.value];if(n.value-_>=(y?1:0)){const M=h.value-1,K=g.value-M+m.value;return[m.value,e.ellipsis,...de(M,K)]}else{const M=Math.max(1,h.value-2),K=M===1?n.value:n.value-Math.ceil(M/2)+m.value;return[m.value,e.ellipsis,...de(M,K),e.ellipsis,g.value]}});function b(y,x,T){y.preventDefault(),n.value=x,T&&a(T,x)}const{refs:v,updateRef:I}=Rt();Te({VPaginationBtn:{color:H(e,"color"),border:H(e,"border"),density:H(e,"density"),size:H(e,"size"),variant:H(e,"variant"),rounded:H(e,"rounded"),elevation:H(e,"elevation")}});const k=V(()=>A.value.map((y,x)=>{const T=_=>I(_,x);if(typeof y=="string")return{isActive:!1,key:`ellipsis-${x}`,page:y,props:{ref:T,ellipsis:!0,icon:!0,disabled:!0}};{const _=y===n.value;return{isActive:_,key:y,page:s(y),props:{ref:T,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:_?e.activeColor:e.color,"aria-current":_,"aria-label":d(_?e.currentPageAriaLabel:e.pageAriaLabel,y),onClick:M=>b(M,y)}}}})),L=V(()=>{const y=!!e.disabled||n.value<=m.value,x=!!e.disabled||n.value>=m.value+g.value-1;return{first:e.showFirstLastPage?{icon:r.value?e.lastIcon:e.firstIcon,onClick:T=>b(T,m.value,"first"),disabled:y,"aria-label":d(e.firstAriaLabel),"aria-disabled":y}:void 0,prev:{icon:r.value?e.nextIcon:e.prevIcon,onClick:T=>b(T,n.value-1,"prev"),disabled:y,"aria-label":d(e.previousAriaLabel),"aria-disabled":y},next:{icon:r.value?e.prevIcon:e.nextIcon,onClick:T=>b(T,n.value+1,"next"),disabled:x,"aria-label":d(e.nextAriaLabel),"aria-disabled":x},last:e.showFirstLastPage?{icon:r.value?e.firstIcon:e.lastIcon,onClick:T=>b(T,m.value+g.value-1,"last"),disabled:x,"aria-label":d(e.lastAriaLabel),"aria-disabled":x}:void 0}});function U(){var x;const y=n.value-m.value;(x=v.value[y])==null||x.$el.focus()}function D(y){y.key===Fe.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,ve(U)):y.key===Fe.right&&!e.disabled&&n.value<m.value+g.value-1&&(n.value=n.value+1,ve(U))}return ge(()=>w(e.tag,{ref:S,class:["v-pagination",u.value,e.class],style:e.style,role:"navigation","aria-label":d(e.ariaLabel),onKeydown:D,"data-test":"v-pagination-root"},{default:()=>[w("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&w("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(L.value.first):w(te,j({_as:"VPaginationBtn"},L.value.first),null)]),w("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(L.value.prev):w(te,j({_as:"VPaginationBtn"},L.value.prev),null)]),k.value.map((y,x)=>w("li",{key:y.key,class:["v-pagination__item",{"v-pagination__item--is-active":y.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(y):w(te,j({_as:"VPaginationBtn"},y.props),{default:()=>[y.page]})])),w("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(L.value.next):w(te,j({_as:"VPaginationBtn"},L.value.next),null)]),e.showFirstLastPage&&w("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(L.value.last):w(te,j({_as:"VPaginationBtn"},L.value.last),null)])])]})),{}}}),_t=z({renderless:Boolean,...Ve()},"VVirtualScrollItem"),Mt=me()({name:"VVirtualScrollItem",inheritAttrs:!1,props:_t(),emits:{"update:height":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const{resizeRef:d,contentRect:s}=xe(void 0,"border");G(()=>{var r;return(r=s.value)==null?void 0:r.height},r=>{r!=null&&a("update:height",r)}),ge(()=>{var r,u;return e.renderless?w(ne,null,[(r=n.default)==null?void 0:r.call(n,{itemRef:d})]):w("div",j({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(u=n.default)==null?void 0:u.call(n)])})}}),Et=-1,Ot=1,be=100,Nt=z({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Kt(e,l){const t=Me(),a=$(0);pe(()=>{a.value=parseFloat(e.itemHeight||0)});const n=$(0),d=$(Math.ceil((parseInt(e.height)||t.height.value)/(a.value||16))||1),s=$(0),r=$(0),u=q(),f=q();let o=0;const{resizeRef:S,contentRect:g}=xe();pe(()=>{S.value=u.value});const m=V(()=>{var i;return u.value===document.documentElement?t.height.value:((i=g.value)==null?void 0:i.height)||parseInt(e.height)||0}),h=V(()=>!!(u.value&&f.value&&m.value&&a.value));let p=Array.from({length:l.value.length}),A=Array.from({length:l.value.length});const b=$(0);let v=-1;function I(i){return p[i]||a.value}const k=ut(()=>{const i=performance.now();A[0]=0;const P=l.value.length;for(let C=1;C<=P-1;C++)A[C]=(A[C-1]||0)+I(C-1);b.value=Math.max(b.value,performance.now()-i)},b),L=G(h,i=>{i&&(L(),o=f.value.offsetTop,k.immediate(),W(),~v&&ve(()=>{we&&window.requestAnimationFrame(()=>{ie(v),v=-1})}))});Ee(()=>{k.clear()});function U(i,P){const C=p[i],R=a.value;a.value=R?Math.min(a.value,P):P,(C!==P||R!==a.value)&&(p[i]=P,k())}function D(i){return i=J(i,0,l.value.length-1),A[i]||0}function y(i){return $t(A,i)}let x=0,T=0,_=0;G(m,(i,P)=>{P&&(W(),i<P&&requestAnimationFrame(()=>{T=0,W()}))});let M=-1;function K(){if(!u.value||!f.value)return;const i=u.value.scrollTop,P=performance.now();P-_>500?(T=Math.sign(i-x),o=f.value.offsetTop):T=i-x,x=i,_=P,window.clearTimeout(M),M=window.setTimeout(se,500),W()}function se(){!u.value||!f.value||(T=0,_=0,window.clearTimeout(M),W())}let oe=-1;function W(){cancelAnimationFrame(oe),oe=requestAnimationFrame(he)}function he(){if(!u.value||!m.value)return;const i=x-o,P=Math.sign(T),C=Math.max(0,i-be),R=J(y(C),0,l.value.length),F=i+m.value+be,B=J(y(F)+1,R+1,l.value.length);if((P!==Et||R<n.value)&&(P!==Ot||B>d.value)){const O=D(n.value)-D(R),X=D(B)-D(d.value);Math.max(O,X)>be?(n.value=R,d.value=B):(R<=0&&(n.value=R),B>=l.value.length&&(d.value=B))}s.value=D(n.value),r.value=D(l.value.length)-D(d.value)}function ie(i){const P=D(i);!u.value||i&&!P?v=i:u.value.scrollTop=P}const c=V(()=>l.value.slice(n.value,d.value).map((i,P)=>{const C=P+n.value;return{raw:i,index:C,key:_e(i,e.itemKey,C)}}));return G(l,()=>{p=Array.from({length:l.value.length}),A=Array.from({length:l.value.length}),k.immediate(),W()},{deep:1}),{calculateVisibleItems:W,containerRef:u,markerRef:f,computedItems:c,paddingTop:s,paddingBottom:r,scrollToIndex:ie,handleScroll:K,handleScrollend:se,handleItemResize:U}}function $t(e,l){let t=e.length-1,a=0,n=0,d=null,s=-1;if(e[t]<l)return t;for(;a<=t;)if(n=a+t>>1,d=e[n],d>l)t=n-1;else if(d<l)s=n,a=n+1;else return d===l?n:a;return s}const jt=z({items:{type:Array,default:()=>[]},renderless:Boolean,...Nt(),...Ve(),...dt()},"VVirtualScroll"),zt=me()({name:"VVirtualScroll",props:jt(),setup(e,l){let{slots:t}=l;const a=Pe("VVirtualScroll"),{dimensionStyles:n}=st(e),{calculateVisibleItems:d,containerRef:s,markerRef:r,handleScroll:u,handleScrollend:f,handleItemResize:o,scrollToIndex:S,paddingTop:g,paddingBottom:m,computedItems:h}=Kt(e,H(e,"items"));return ot(()=>e.renderless,()=>{function p(){var v,I;const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[b]("scroll",u,{passive:!0}),document[b]("scrollend",f)):((v=s.value)==null||v[b]("scroll",u,{passive:!0}),(I=s.value)==null||I[b]("scrollend",f))}it(()=>{s.value=ct(a.vnode.el,!0),p(!0)}),Ee(p)}),ge(()=>{const p=h.value.map(A=>w(Mt,{key:A.key,renderless:e.renderless,"onUpdate:height":b=>o(A.index,b)},{default:b=>{var v;return(v=t.default)==null?void 0:v.call(t,{item:A.raw,index:A.index,...b})}}));return e.renderless?w(ne,null,[w("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:fe(g.value)}},null),p,w("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:fe(m.value)}},null)]):w("div",{ref:s,class:["v-virtual-scroll",e.class],onScrollPassive:u,onScrollend:f,style:[n.value,e.style]},[w("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:fe(g.value),paddingBottom:fe(m.value)}},[p])])}),{calculateVisibleItems:d,scrollToIndex:S}}});function Ht(e,l){const t=$(!1);let a;function n(r){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const u=G(t,()=>{u(),r()})}else r()})}async function s(r){var o,S;if(r.key==="Tab"&&((o=l.value)==null||o.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(S=e.value)==null?void 0:S.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await d();const f=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const g=u.getBoundingClientRect().top;for(const m of f)if(m.getBoundingClientRect().top>=g){m.focus();break}}else{const g=u.getBoundingClientRect().bottom;for(const m of[...f].reverse())if(m.getBoundingClientRect().bottom<=g){m.focus();break}}}return{onScrollPassive:n,onKeydown:s}}const Ut=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ae,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...St({itemChildren:!1})},"Select"),Gt=z({...Ut(),...ht(bt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gt({transition:{component:yt}})},"VSelect"),pa=me()({name:"VSelect",props:Gt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:a}=ke(),n=q(),d=q(),s=q(),{items:r,transformIn:u,transformOut:f}=ft(e),o=Y(e,"modelValue",[],c=>u(c===null?[null]:Q(c)),c=>{const i=f(c);return e.multiple?i:i[0]??null}),S=V(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:o.value.length),g=vt(e),m=V(()=>o.value.map(c=>c.value)),h=$(!1);let p="",A;const b=V(()=>e.hideSelected?r.value.filter(c=>!o.value.some(i=>(e.valueComparator||le)(i,c))):r.value),v=V(()=>e.hideNoData&&!b.value.length||g.isReadonly.value||g.isDisabled.value),I=Y(e,"menu"),k=V({get:()=>I.value,set:c=>{var i;I.value&&!c&&((i=d.value)!=null&&i.ΨopenChildren.size)||c&&v.value||(I.value=c)}}),L=V(()=>k.value?e.closeText:e.openText),U=V(()=>{var c;return{...e.menuProps,activatorProps:{...((c=e.menuProps)==null?void 0:c.activatorProps)||{},"aria-haspopup":"listbox"}}}),D=q(),y=Ht(D,n);function x(c){e.openOnClear&&(k.value=!0)}function T(){v.value||(k.value=!k.value)}function _(c){Be(c)&&M(c)}function M(c){var R,F;if(!c.key||g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(c.key)&&c.preventDefault(),["Enter","ArrowDown"," "].includes(c.key)&&(k.value=!0),["Escape","Tab"].includes(c.key)&&(k.value=!1),c.key==="Home"?(R=D.value)==null||R.focus("first"):c.key==="End"&&((F=D.value)==null||F.focus("last"));const i=1e3;if(!Be(c))return;const P=performance.now();P-A>i&&(p=""),p+=c.key.toLowerCase(),A=P;const C=r.value.find(B=>B.title.toLowerCase().startsWith(p));if(C!==void 0){o.value=[C];const B=b.value.indexOf(C);we&&window.requestAnimationFrame(()=>{var O;B>=0&&((O=s.value)==null||O.scrollToIndex(B))})}}function K(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!c.props.disabled)if(e.multiple){const P=o.value.findIndex(R=>(e.valueComparator||le)(R.value,c.value)),C=i??!~P;if(~P){const R=C?[...o.value,c]:[...o.value];R.splice(P,1),o.value=R}else C&&(o.value=[...o.value,c])}else{const P=i!==!1;o.value=P?[c]:[],ve(()=>{k.value=!1})}}function se(c){var i;(i=D.value)!=null&&i.$el.contains(c.relatedTarget)||(k.value=!1)}function oe(){var c;e.eager&&((c=s.value)==null||c.calculateVisibleItems())}function W(){var c;h.value&&((c=n.value)==null||c.focus())}function he(c){h.value=!0}function ie(c){if(c==null)o.value=[];else if(Le(n.value,":autofill")||Le(n.value,":-webkit-autofill")){const i=r.value.find(P=>P.title===c);i&&K(i)}else n.value&&(n.value.value="")}return G(k,()=>{if(!e.hideSelected&&k.value&&o.value.length){const c=b.value.findIndex(i=>o.value.some(P=>(e.valueComparator||le)(P.value,i.value)));we&&window.requestAnimationFrame(()=>{var i;c>=0&&((i=s.value)==null||i.scrollToIndex(c))})}}),G(()=>e.items,(c,i)=>{k.value||h.value&&!i.length&&c.length&&(k.value=!0)}),ge(()=>{const c=!!(e.chips||t.chip),i=!!(!e.hideNoData||b.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),P=o.value.length>0,C=Ce.filterProps(e),R=P||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return w(Ce,j({ref:n},C,{modelValue:o.value.map(F=>F.props.value).join(", "),"onUpdate:modelValue":ie,focused:h.value,"onUpdate:focused":F=>h.value=F,validationValue:o.externalValue,counterValue:S.value,dirty:P,class:["v-select",{"v-select--active-menu":k.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":o.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:R,"onClick:clear":x,"onMousedown:control":T,onBlur:se,onKeydown:M,"aria-label":a(L.value),title:a(L.value)}),{...t,default:()=>w(ne,null,[w(pt,j({ref:d,modelValue:k.value,"onUpdate:modelValue":F=>k.value=F,activator:"parent",contentClass:"v-select__content",disabled:v.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:oe,onAfterLeave:W},U.value),{default:()=>[i&&w(wt,j({ref:D,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:F=>F.preventDefault(),onKeydown:_,onFocusin:he,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},y,e.listProps),{default:()=>{var F,B,O;return[(F=t["prepend-item"])==null?void 0:F.call(t),!b.value.length&&!e.hideNoData&&(((B=t["no-data"])==null?void 0:B.call(t))??w(De,{key:"no-data",title:a(e.noDataText)},null)),w(zt,{ref:s,renderless:!0,items:b.value,itemKey:"value"},{default:X=>{var Ae;let{item:E,index:Z,itemRef:N}=X;const Ie=j(E.props,{ref:N,key:E.value,onClick:()=>K(E,null)});return((Ae=t.item)==null?void 0:Ae.call(t,{item:E,index:Z,props:Ie}))??w(De,j(Ie,{role:"option"}),{prepend:We=>{let{isSelected:Xe}=We;return w(ne,null,[e.multiple&&!e.hideSelected?w(At,{key:E.value,modelValue:Xe,ripple:!1,tabindex:"-1"},null):void 0,E.props.prependAvatar&&w(Pt,{image:E.props.prependAvatar},null),E.props.prependIcon&&w(Re,{icon:E.props.prependIcon},null)])}})}}),(O=t["append-item"])==null?void 0:O.call(t)]}})]}),o.value.map((F,B)=>{function O(N){N.stopPropagation(),N.preventDefault(),K(F,!1)}const X={"onClick:close":O,onKeydown(N){N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),O(N))},onMousedown(N){N.preventDefault(),N.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},E=c?!!t.chip:!!t.selection,Z=E?kt(c?t.chip({item:F,index:B,props:X}):t.selection({item:F,index:B})):void 0;if(!(E&&!Z))return w("div",{key:F.value,class:"v-select__selection"},[c?t.chip?w(Vt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:F.title}}},{default:()=>[Z]}):w(xt,j({key:"chip",closable:e.closableChips,size:"small",text:F.title,disabled:F.props.disabled},X),null):Z??w("span",{class:"v-select__selection-text"},[F.title,e.multiple&&B<o.value.length-1&&w("span",{class:"v-select__selection-comma"},[It(",")])])])})]),"append-inner":function(){var X,E;for(var F=arguments.length,B=new Array(F),O=0;O<F;O++)B[O]=arguments[O];return w(ne,null,[(X=t["append-inner"])==null?void 0:X.call(t,...B),e.menuIcon?w(Re,{class:"v-select__menu-icon",color:(E=n.value)==null?void 0:E.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),mt({isFocused:h,menu:k,select:K},n)}});export{pa as V,ra as a,ha as b,va as c,aa as d,ua as e,oa as f,ca as g,qt as h,la as i,ma as j,Qt as k,Yt as l,ya as m,na as n,fa as o,ea as p,ia as q,Sa as r,sa as s,ga as t,ba as u,da as v,ta as w,Jt as x,Zt as y};
